<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.7">
 <TITLE>Grace FAQ</TITLE>


</HEAD>
<BODY>
<H1>Grace FAQ</H1>

      
<H2>by the Grace Team
      </H2>v0.3  1998/09/14
      
<P><HR>
<EM>    This document contains Frequently Asked Questions (FAQ) about
        <B>Grace</B>, the free 2d plotting tool for scientific data.
      </EM>
<HR>
<H2><A NAME="s1">1. General Questions</A>      </H2>

<P>
<P>
<H2>1.1 What is Grace?        </H2>

<P>
<P>Grace is a tool to make two-dimensional plots of scientific
data. It runs under various (if not all) flavours of UNIX
with X11 and Motif. Its capabilities are roughly similar to
GUI-based programs like Sigmaplot or Microcal Origin plus
script-based tools like Gnuplot or Genplot.  Its strength
lies in the fact that it combines the convenience of a
graphical user interface with the power of a scripting
language which enables it to do sophisticated calculations
or perform automated tasks.
<P>Grace is derived from Xmgr (a.k.a. ACE/gr), originally
written by 
<A HREF="mailto:pturner@teleport.com">Paul Turner</A>.
<P>From version number 4.00, the development was taken over by
a team of volunteers under the coordination of 
<A HREF="mailto:fnevgeny@plasma-gate.weizmann.ac.il">Evgeny Stambulchik</A>.
<P>See question 
<A HREF="#mailinglist">Mailing Lists</A> on
how to contact the developers.
<P>When its copyright was changed to GPL, the name was changed to Grace,
which stands for ``GRaphing, Advanced Computation and Exploration of
data'' or ``Grace Revamps ACE/gr''. The first version of Grace
available is named 5.0.0, while the last public version of Xmgr has
the version number 4.1.2.
<P>Paul still maintains and develops a non-public version of
Xmgr for internal use.
<P>
<H2>1.2 Where can I get Grace?        </H2>

<P>
<P>You can get the newest information about Grace and download
the latest version at the 
<A HREF="http://plasma-gate.weizmann.ac.il/Grace/">Grace      home page</A>.
<P>You can fetch it from a mirror site as well. The list of
mirror sites can be found at 
<A HREF="ftp://plasma-gate.weizmann.ac.il/pub/grace/MIRRORS">ftp://plasma-gate.weizmann.ac.il/pub/grace/MIRRORS</A>.
<P>
<H2><A NAME="current"></A> 1.3 What is the current version of Grace?         </H2>

<P>
<P>Grace is still in the development phase. The current
official release is 5.0.1 from September 15, 1998.
<P>
<P>
<H2><A NAME="homepage"></A> 1.4 Where can I get the most recent information about Grace?         </H2>

<P>
<P>Please refer to the 
<A HREF="http://plasma-gate.weizmann.ac.il/Grace/">official Grace Home Page</A>. There you
can also find the latest version of this FAQ, links to the
latest release and to mirror sites closer to you.
<P>
<H2>1.5 What is the difference between Xmgr and Grace?        </H2>

<P>
<P>Apart from the licensing, the main difference is that Grace
is closer to WYSIWYG (What You See Is What You Get) than
Xmgr. This was achieved mainly through the use of the string
rendering library T1lib written by 
<A HREF="mailto:Rainer.Menzner@neuroinformatik.ruhr-uni-bochum.de">Rainer    Menzner</A>.
See question 
<A HREF="#t1lib">T1lib</A> for more information about
T1lib.
<P>For help with changing from Xmgr to Grace see the file
<CODE>MIGRATION</CODE> in the Grace distribution.
<P>As Grace is still under development, there are currently
several features of Xmgr which are not yet implemented in
Grace. A full compatibility is desirable except for ``bad''
features of Xmgr.
<P>Among the Xmgr features not (yet) implemented in Grace are:
<P>
<UL>
<LI>Horizontal and vertical lines as symbols.
</LI>
<LI>Bar charts.
</LI>
<LI>Placement of legends by mouseclick.
</LI>
<LI>Update display on 'Move object' etc. without having to click <CODE>Draw</CODE>.
</LI>
<LI>Smith plots.
</LI>
<LI>Automatic coloring of data sets at load time (now
all sets are colored black).
</LI>
</UL>
<P>
<H2>1.6 Why did you change the name?        </H2>

<P>
<P>When the licensing was changed to GPL, Paul wanted to keep
the name for his non-public version of Xmgr, so we chose a
new name.
<P>
<H2>1.7 Is Grace free?        </H2>

<P>
<P>Yes. Grace is free in terms of the GNU General Public
License (GPL) (see the file <CODE>LICENSE</CODE> which comes with
Grace or the 
<A HREF="http://www.gnu.org">GNU Home    Page</A> for details).
<P>
<H2>1.8 Who wrote Grace?        </H2>

<P>
<P>The sources of Grace still contain lots of code from Xmgr by
Paul Turner. For a list of those who contributed to Grace
since then, see the file <CODE>CHANGES</CODE> in the Grace
distribution.
<P>
<H2>1.9 Is there a Postscript|LaTeX|HTML|SGML version of this document?        </H2>

<P>
<P>Yes. It is written in SGML which means that all the above
versions can easily be created using <CODE>sgml-tools</CODE> (see
their 
<A HREF="http://www.sgmltools.org/">home page</A>). At the Grace home page
(see question 
<A HREF="#homepage">Home Page</A>), all
these versions are available.
<P>
<H2>1.10 Who maintains the FAQ?        </H2>

<P>
<P>Currently, the FAQ is maintained by 
<A HREF="mailto:selber@fhi-berlin.mpg.de">Heiko Selber</A>. If you have any
comments or a question about Grace which you feel should
be included here, send me an e-mail.
<P>
<P>
<H2><A NAME="s2">2. Getting Help</A>      </H2>

<P>
<P>
<H2>2.1 Is there any Literature about Grace?        </H2>

<P>
<P>As of now, Grace is a purely virtual creature living in the
net, i.e. there is no printed literature. All relevant
literature is currently bundled with Grace. See questions
<A HREF="#homepage">Home Page</A> and 
<A HREF="#manual">User Guide</A> for details. You can print your own
copy of the FAQ and the User Guide by converting the SGML
sources to LaTeX and making a postscript file out of it.
<P>
<H2><A NAME="manual"></A> 2.2 Is there a User Guide available for Grace?         </H2>

<P>
<P>Yes. It is part of the Grace distribution and usually is
located in <CODE>$GRACE_HOME/doc/</CODE>.  There are several
versions: the SGML source and HTML, LaTeX, DVI and PS
derived from it. You can read the HTML version from a
running Grace session by clicking on <CODE>"Help/User
Guide"</CODE>. You need a web browser to read the HTML version
(see also question 
<A HREF="#environment">Environment    Variables</A>). You can always download the newest version
from the Grace homepage (see question 
<A HREF="#homepage">Home Page</A>).
<P>The User Guide is currently being rewritten.
<P>
<H2><A NAME="tutorial"></A> 2.3 Is there a tutorial available for Grace?         </H2>

<P>
<P>Yes. There are several tutorials which give detailed
step-by-step information how to achieve various tasks. They
are also part of the Grace distribution. You can find them
in <CODE>$GRACE_HOME/doc/</CODE>.
<P>There are tutorials about creating a simple plot, batch
plotting, fitting curves, transformations (graphical -
simple ones, interpolation, feature extraction, using the
command line), using pipes, overlaying graphs, hot links.
<P>The tutorials are currently being written from scratch, so
the one you are looking for might not be finished yet.
<P>
<H2><A NAME="support"></A> 2.4 Where do I get support for Grace?         </H2>

<P>
<P>You have the following options:
<P>
<UL>
<LI>There is a User Guide (see question 
<A HREF="#manual">User Guide</A>) which came with Grace on your
computer. It is usually located in
<CODE>$GRACE_HOME/doc/</CODE> along with other files which
may contain useful help for your problem. If you
downloaded the sources, there are even more files in
the main directory of the source tree.
</LI>
<LI>Have a look at the Grace home page (question 
<A HREF="#homepage">Home Page</A>).
</LI>
<LI>On the Grace mailing list (see question 
<A HREF="#mailinglist">Mailing Lists</A> for details)
you can easily get in contact with users and
developers of Grace.
</LI>
</UL>
<P>
<H2>2.5 Is there a newsgroup devoted to Grace?        </H2>

<P>
<P>No, there isn't. We feel that a mailing list (see question
<A HREF="#mailinglist">Mailing Lists</A>) is more
appropriate to discuss the topics related to Grace as long
the volume of the lists stays low enough.
<P>
<H2><A NAME="mailinglist"></A> 2.6 Is there a mailing list for Grace?        </H2>

<P>
<P>Yes.  Grace has three mailing lists: <CODE>grace</CODE>,
<CODE>grace-announce</CODE> and <CODE>grace-dev</CODE>.
<P>See question 
<A HREF="#subscription">Subscription</A> for
details on how to subscribe.
<P>
<DL>
<P>
<DT><B>grace</B><DD><P>The first one, unmoderated, serves for general
discussions about Grace. This is the list your message
should go to if you have a question about
Grace. Currently, the volume of this list is about a
dozen messages per week.
<P>If you want to write an email to the list, use the
address 
<A HREF="mailto:grace@plasma-gate.weizmann.ac.il">grace@plasma-gate.weizmann.ac.il</A>. This
address is <B>not</B> for subscription or unsubscription.
<P>Virtually all developers and most users of Grace have
subscribed to this list. So you can be pretty sure that
there will be at least one who can help you.
<P><B>But:</B> no one likes to read the same questions over
and over again. So, please refer to other sources of
help (see question 
<A HREF="#support">Support</A>)
before asking something that can be found in the
documentation.
<P>Instead of subscribing to the list itself you may wish
to subscribe to the digest of the list. The digest is
sent once in three days or when its size exceeds 32K.
<P>
<DT><B>grace-announce</B><DD><P>The moderated grace-announce list is
for new version or serious bug fix announcements only
(which are automatically relayed to the first mailing
list, too). The volume of this list is very low, like
once a month or less.
<P>
<DT><B>grace-dev</B><DD><P>The grace-dev mailing list is for
developers. It serves for discussions about the future
development or details which are usually not interesting
to mere users.
<P>
</DL>
<P>There are 
<A HREF="http://plasma-gate.weizmann.ac.il/Grace/maillists/">mailing list archives</A>
available for browsing.
<P>
<H2><A NAME="subscription"></A> 2.7 How do I subscribe to the mailing lists?        </H2>

<P>
<P>You can subscribe to any of the Grace mailing lists by
sending an email to
<CODE>&lt;LISTNAME>-request@plasma-gate.weizmann.ac.il</CODE> with
no subject line and the only word <CODE>`Subscribe'</CODE> (without
quotes, of course) in the body of the message.
<P><CODE>&lt;LISTNAME></CODE> stands for the name of the list you wish
to subscribe to, i.e. <CODE>grace</CODE>, <CODE>grace-digest</CODE>,
<CODE>grace-announce</CODE> or <CODE>grace-devel</CODE>
<P>So the respective addresses are:
<P>
<A HREF="mailto:grace-request@plasma-gate.weizmann.ac.il">grace-request@plasma-gate.weizmann.ac.il</A><P>
<A HREF="mailto:grace-digest-request@plasma-gate.weizmann.ac.il">grace-digest-request@plasma-gate.weizmann.ac.il</A><P>
<A HREF="mailto:grace-announce-request@plasma-gate.weizmann.ac.il">grace-announce-request@plasma-gate.weizmann.ac.il</A><P>
<A HREF="mailto:grace-dev-request@plasma-gate.weizmann.ac.il">grace-dev-request@plasma-gate.weizmann.ac.il</A><P>To unsubscribe from a list, same instructions apply, with
<CODE>`Subscribe'</CODE> being replaced by <CODE>`Unsubscribe'</CODE>.
<P>
<P>
<H2><A NAME="s3">3. Providing Help: Finding and Reporting Bugs</A>      </H2>

<P>
<P>
<H2>3.1 I think I found a bug in Grace! How do I report it?        </H2>

<P>
<P>
<DL>
<P>
<DT><B>First</B><DD><P>Make sure that what you found really is a bug.
<P>
<DT><B>Second</B><DD><P>Try to make sure that it is a bug in Grace,
and that the failure is not caused by another piece of
software.
<P>
<DT><B>Third</B><DD><P>Consider upgrading to the newest release of
Grace (see question 
<A HREF="#current">Current        Release</A>). The development of Grace is currently rather
fast, so your bug might already be fixed.
<P>
<DT><B>Fourth</B><DD><P>Try to find out if the bug is already known
(see question 
<A HREF="#w3todo">Known Bugs</A>).
<P>
<DT><B>Fifth</B><DD><P>OK: You <EM>have</EM> found a new bug. Use
<B>w3todo</B> (question 
<A HREF="#w3todo">Known        Bugs</A>) to report it. Follow the instructions on the
page and try to be as precise as possible. It won't be
much help if you write ``The program crashes.'' Try to
find a simple reproducible case. Mention the version of
Grace and the operating system you use. Once you submit
the bug report, it will be automatically sent to the
mailing list. You will usually be notified when the bug
is fixed or if we need more information, so don't forget
to give your correct e-mail address.
<P>
</DL>
<P>
<P>
<H2><A NAME="w3todo"></A> 3.2 Is there a list of known bugs?         </H2>

<P>
<P>Yes. You can search and browse the database of known bugs in
Xmgr and Grace at the bug report facility 
<A HREF="http://plasma-gate.weizmann.ac.il/w3todo/index.phtml">w3todo</A>
or using the <CODE>"Help/Comments"</CODE> menu from within
Grace.  The database also keeps track of the status of the
bug (<CODE>Confirmed, Working on, Testing, Fixed, Closed,</CODE>
etc.). This is also the place to submit bug reports and
wishes.
<P>
<H2>3.3 I have got an idea! How do I report a wish?        </H2>

<P>
<P>You can submit wishes and suggestions just the way you would
submit bug reports (see question 
<A HREF="#w3todo">Known Bugs</A>).  Suggestions for improvement are
generally very welcome. It may be possible, however, that
the developers are busy or that your wish is rejected for
some good reason, so it may be necessary to persuade (better
convince) them to get at it.
<P>
<H2>3.4 I want to help! How can I contribute to grace?        </H2>

<P>
<P>Fine! There are always things to do.
<P>If you are a c programmer, you can almost certainly find
something useful to do. Just ask the mailing list. The same
applies if you are a technical writer. The documentation
will certainly need to be updated, corrected or completed.
<P>Make Grace known to your friends and colleagues. The more
users Grace has, the faster it will be improved.
<P>
<H2>3.5 I like Grace! Can I donate anything to its authors?        </H2>

<P>
<P>No need to (yet). But if you feel like making a donation,
choose any charity organization you like. You wanted to give
them some money, anyway, right?
<P>
<P>
<H2><A NAME="s4">4. Installation</A>      </H2>

<P>
<P>
<H2><A NAME="install"></A> 4.1 How do I install Grace?         </H2>

<P>
<P>You have the choice: either you compile the sources yourself
or you download precompiled binaries. You can get both from
the 
<A HREF="http://plasma-gate.weizmann.ac.il/Grace/">Grace Home Page</A>. Whether binaries for your platforms
are available (see question 
<A HREF="#binaries">Binaries</A>) depends on whether one of the developers
has access to the respective platform and has had time to do
it.
<P>It is always a good idea to read the <CODE>INSTALL</CODE> file and
the <CODE>README</CODE>s which come with Grace.
<P>
<P>
<H2>4.2 Compilation        </H2>

<P>
<P>
<H3>What do I need in order to compile Grace?          </H3>

<P>
<P>Grace usually compiles out of the box on a regular UNIX
machine. You need an ANSI C compiler (gcc is just fine), the X11
libraries, the T1 font libraries (which currently come
with Grace, see question 
<A HREF="#t1lib">T1lib</A>)
and Motif (see question 
<A HREF="#motif">Motif</A>).
<P>You also need certain libraries if you want to export
special file formats (see question 
<A HREF="#export">Output Devices</A>).
<P>In order to read in the netCDF data format, you
will also need the 
<A HREF="http://unidata.ucar.edu/packages/netcdf/index.html">netCDF libraries</A>.
<P>Furthermore, you might use the XPM libraries for the Grace
icon from the 
<A HREF="http://www.inria.fr/koala/lehors/xpm.html">XPM home page</A> and the
FFTW libraries for fast Fourier transformations from the
<A HREF="http://theory.lcs.mit.edu/~fftw/">FFTW home page</A>.
<P>If you want to compile your own changes to certain parts
of Grace, you will need a parser generator (<CODE>yacc</CODE> or
<CODE>bison</CODE>).
<P>Most of these (except Motif and probably T1lib and FFTW)
are usually part of a regular Linux distribution but
probably not of other UNIXes.
<P>
<H3>How do I compile Grace?          </H3>

<P>
<P>After getting the sources (question 
<A HREF="#install">Installation</A>) and un<CODE>zip</CODE>ping and un<CODE>tar</CODE>ing
them (use e.g. <CODE>tar xvzf grace-5.0.1.tar.gz</CODE>), change
to the Grace directory and have a look at the files
<CODE>INSTALL</CODE> and <CODE>README.configure</CODE>.
<P>Type <CODE>./configure</CODE>. This checks for the
availability of libraries and other stuff on your
system. If all went well, edit <CODE>Make.conf</CODE>
and <CODE>config.h</CODE>, if necessary.
<P>Type <CODE>make</CODE>. When the compilation is finished, you can
test Grace using <CODE>make tests</CODE>. This will give you a
slide show showing some nice features of Grace. Then
install it to the directory <CODE>$GRACE_HOME/</CODE> (see
question 
<A HREF="#environment">Environment      Variables</A>) using <CODE>make install</CODE> (probably as root).
<P>
<H3>When I type './configure' I get: ``configure: warning: Motif has not been found; building a GUI-less version''          </H3>

<P>
<P>Check whether Motif (question 
<A HREF="#motif">Motif</A>) is installed on your system. If it is, look
at the file config.log: there is a line like this:
<P><CODE>configure:5569: checking for main in -lXm</CODE>
<P>What comes directly after it? Could be a hint.
<P>Use configure with the special
<CODE>--with-motif-includes=DIR</CODE> and
<CODE>--with-motif-libraries=DIR</CODE> options.
<P>
<H3><A NAME="motif"></A> What is Motif (LessTif)?           </H3>

<P>
<P>Motif is a toolkit library for X11. It provides widgets
(buttons, boxes, etc) to be used in graphical user
interfaces. Graces makes heavy use of Motif. The original
OSF Motif (see 
<A HREF="http://www.osf.org">http://www.osf.org</A>) is <EM>not</EM>
free. You can buy it from several vendors (at approx. $100
for Linux).
<P>There is, however, a free replacement for Motif called
LessTif (see 
<A HREF="http://www.lesstif.org">http://www.lesstif.org</A>). LessTif
is intended to be a 100% compatible replacement for Motif,
but is still under development, so don't expect everything
to work exactly as it should. For the purposes of Grace,
the latest version of LessTif (currently 0.86.0) is
sufficient if you don't mind that it's a bit slower than
commercial versions of Motif and graphical details may be
different. Be aware, however, that occasional crashes
might occur under certain circumstances. The LessTif
people usually receive many bug reports from the Grace
developers, so you can expect bugs in LessTif to be fixed
rather quickly.
<P>
<H3>Can't find library libXm.so (on Linux)          </H3>

<P>
<P>If this message occurs, then you don't have Motif (the Xm
libraries, see question 
<A HREF="#motif">Motif</A>)
installed (see the question above), or the linker doesn't
know where it is. In the first case, try downloading
Lesstif. In the second case, you have to tell your linker
where it is. Look at the file <CODE>/etc/ld.so.conf</CODE>. It
contains pathnames of the directories where dynamic
libraries are stored. Add (as root) your directory to this
file and run <CODE>ldconfig -v</CODE>. Now the libraries
should be in the list.
<P>For some versions of Motif, the ``soname'' (which
identifies the version of the library and is stored
somewhere in the library) on your computer doesn't match
the soname of the library on the computer where your copy
of Grace was compiled on. Then you should use a
(semi)statically linked version or compile Grace on your
computer.
<P>
<H3>While compiling Grace I get error messages about missing include files.          </H3>

<P>
<P>The answer to this question varies: 
<P>
<UL>
<LI> The include files are there but in a non-standard
place. Check with your local sys admin.
</LI>
<LI> If the missing files are like Xm/*.h, this means
you don't have Motif development kit installed (or
again, you have to tell explicitly to compiler where
to look for the header files). This mostly concerns
Linux.
</LI>
<LI> If the compiler complains about missing
Xbae/Matrix.h, you need either to install the Xbae
widget library version 4.5 or above (available from 
<A HREF="ftp://ftp.x.org/contrib/widgets/motif/">ftp://ftp.x.org/contrib/widgets/motif/</A>) or
disable the use of the widget in Make.conf file. In
the later case, however, you won't get the
semi-spreadsheet set editor.
</LI>
</UL>
<P>
<P>
<H2><A NAME="binaries"></A> 4.3 Are there Grace binaries available? For which platforms?         </H2>

<P>
<P>You will find binaries for several flavours of UNIX (Linux,
DEC OSF 4.0) at 
<A HREF="ftp://plasma-gate.weizmann.ac.il/pub/grace/bin/">ftp://plasma-gate.weizmann.ac.il/pub/grace/bin/</A>. More
will follow as the development of Grace stabilizes.
<P>For Xmgr, there are currently binaries of the latest version
(4.1.2) available for alpha-dec-osf4.0, hp800s-hp-hpux10,
ix86-pc-linux, mips-sgi-irix-6.2, rs6000-ibm-aix4.1 and
sun-solaris2.5.1 at 
<A HREF="ftp://plasma-gate.weizmann.ac.il/pub/xmgr4/bin/xmgr-4.1.2/">ftp://plasma-gate.weizmann.ac.il/pub/xmgr4/bin/xmgr-4.1.2/</A>.
<P>
<P>
<H2>4.4 Is there a Windows|OS/2|VMS port of Grace?        </H2>

<P>
<P>I am not sure, but I think that Grace runs on VMS. Just
compile it there.
<P>A port to OS/2 made by 
<A HREF="mailto:st002279@hrzpub.tu-darmstadt.de">Alexander Mai</A> can be found
at 
<A HREF="http://www.os-2.de/~mai">http://www.os-2.de/~mai</A>. It lacks some of
the functionality of the UNIX version but its stability is
more or less OK.
<P>Grace itself has not been ported to Windoze yet, but you can
find a ``very alpha'' port of Xmgr to Windoze 95/NT made by
Evgeny at 
<A HREF="ftp://plasma-gate.weizmann.ac.il/pub/xmgr4/bin/win32/">ftp://plasma-gate.weizmann.ac.il/pub/xmgr4/bin/win32/</A>.
<P>
<P>
<H2><A NAME="s5">5. Using Grace</A>      </H2>

<P>
<P>
<H2>5.1 How do I start Grace?        </H2>

<P>
<P>There are two ways to invoke Grace. The full-featured
GUI-based version is called <CODE>xmgrace</CODE>. A batch-printing
version is called <CODE>gracebat</CODE> (see question 
<A HREF="#gracebat">Gracebat</A>).
<P>Both are usually located in <CODE>$GRACE_HOME/bin/</CODE>.
<P>
<H2>5.2 Does Grace have an UNDO function?        </H2>

<P>
<P>No. Sorry. Although it would be nice to have such a
function, it is very hard to implement. We can only ask you
to be careful with certain actions and remember to <CODE>save
often and early (TM)</CODE>.
<P>
<H2>5.3 Settings        </H2>

<P>
<P>
<H3><A NAME="custom"></A> How can I customize the default appearance of Grace?           </H3>

<P>
<P>There are several ways:
<P>
<DL>
<P>
<DT><B>The init file <CODE>~/.gracerc</CODE></B><DD><P>This
file is in fact a Grace parameter file (question 
<A HREF="#parameter">Parameter File</A>) which is read
when Grace starts. It can contain anything a parameter
file may contain. You can write this file by creating
a graph which looks the way you want and then save it
to ~/.gracerc. Be aware that this defines the
default for one graph only. If you want to set the
defaults for more than one graph, you have to define
each of them explicitely, even if you want them to
look the same.
<P>
<DT><B>command line option <CODE>-param &lt;filename></CODE></B><DD><P>This
will do the same as above except that the commands
are read from <CODE>&lt;filename></CODE>.
<P>
<DT><B>X Resources</B><DD><P>Grace reads several X Resources on
startup. These resources affect only the appearance of
the GUI, not the printed graphs. Please refer to the
User Guide (question 
<A HREF="#manual">User   Guide</A>) for details.
<P>
</DL>
<P>In the future, there will be still another way to define
defaults.
<P>
<H3><A NAME="environment"></A> Which environment variables does Grace use?           </H3>

<P>
<P>
<DL>
<P>
<DT><B>GRACE_HOME</B><DD><P>Specifies the directory where the Grace
docs and libs are stored. Default is
<CODE>/usr/local/grace</CODE>.
<P>
<DT><B>GRACE_HELPVIEWER</B><DD><P>Specifies the browser which is
used to display the Grace HTML help pages. Default is
<CODE>netscape</CODE>.
<P>
<DT><B>GRACE_EDITOR</B><DD><P>Specifies the editor which is used to
edit sets. Default is <CODE>vi</CODE> in an <CODE>xterm</CODE>.
<P>
<DT><B>HOME</B><DD><P>Your home directory.
<P>
<DT><B>GRACE_FFTW_RAM_WISDOM and GRACE_FFTW_WISDOM_FILE</B><DD><P>A
flag (0 or 1) and a file name which determine whether
a FFT should use ``wisdom'' when using the FFTW
libraries.
<P>
</DL>
<P>You can set environment variables using (e.g.):
<P><CODE>export GRACE_HOME="/usr/local/grace"</CODE>
<P>in bash and sh or
<P><CODE>setenv GRACE_HOME "/usr/local/grace"</CODE>
<P>in tcsh and csh.
<P>
<H3>What command line options does Grace recognize?          </H3>

<P>
<P>Several. You can display them with <CODE>xmgrace -help</CODE>.
<P>
<H2>5.4 Plotting        </H2>

<P>
<P>
<H3>I'd like to plot data against an axis on the right (top) and another data set in a different scale against an axis on the left (bottom)          </H3>

<P>
<P>
<P>Use two overlaying graphs, one with a scale on the
left(bottom), the other one on the right (top). Thus you
can achieve the desired effect, but you'll need to pay
close attention to which graph is the 'current'
graph. This is also how to display a second scale on the
top (right) side of the graph.
<P>
<H3>How do I do polar plots?          </H3>

<P>
<P>The support for polar plots is currently being
implemented, so you can expect polar plots to work
soon. The polar coordinates can be selected from the
<CODE>"Plot/Graph Appearance"</CODE> menu.  Please refer to
the User Guide (question 
<A HREF="#manual">User      Guide</A>) for details.
<P>
<H2>5.5 Strings        </H2>

<P>
<P>
<H3>Can I use different fonts, symbols, font size, or sub/superscripts in Grace?          </H3>

<P>
<P>Yes, Grace has all these features. Wherever you can type a
text in Grace, e.g. Axis labels, graph title, text from
<CODE>Plot->Drawing objects</CODE>, etc., you can use all those
features within the same text.  Please refer to the User
Guide (question 
<A HREF="#manual">User Guide</A>) for
details. There are some limitations, though, which are
also discussed there.
<P>
<H3>How do I produce special characters (Umlauts) with Grace?          </H3>

<P>
<P>Grace looks for the default font encoding in the file
<CODE>$GRACE_HOME/fonts/enc/Default.enc</CODE>. Most people in
Western Europe use Latin1 encoding, so make a link to
<CODE>ISOLatin1.enc</CODE> (<CODE>ln -s ISOLatin1.enc Default.enc</CODE>).
Please refer to the User Guide (question 
<A HREF="#manual">User Guide</A>) for details.
<P>
<H3><A NAME="t1lib"></A> What is T1lib good for?           </H3>

<P>
<P>T1lib is a font rasterer library which permits to use nice
Type1 fonts within Grace on all output media. Usually, the
newest version of T1lib comes bundled with Grace, so you
don't need to take care of it. If you're interested: the
author is 
<A HREF="mailto:Rainer.Menzner@neuroinformatik.ruhr-uni-bochum.de">Rainer Menzner</A>
and you can get more info on t1lib at 
<A HREF="http://www.neuroinformatik.ruhr-uni-bochum.de/ini/PEOPLE/rmz/t1lib.html">http://www.neuroinformatik.ruhr-uni-bochum.de/ini/PEOPLE/rmz/t1lib.html</A>.
<P>
<H3>Can I use my own fonts?          </H3>

<P>
<P>Yes. Starting with version 5.0.1, you can use your own
fonts, in addition to the standard fonts which
include Helvetica, Courier, Times-Roman, Symbols and Zapf
Dingbats and come with Grace, and as a replacement for the
default fonts (for the purporse of localization).
<P>
<P>
<H2>5.6 Files        </H2>

<P>
<P>
<H3>At which precision is numerical data saved? How can I set the precision?          </H3>

<P>
<P>By default, numbers are saved with six valid digits. To
set your own precision, use the command
<P><CODE>DEFAULT SFORMAT formatstring</CODE>
<P>(e.g. in your <CODE>.gracerc</CODE>, see question 
<A HREF="#custom">Customization</A>) with formatstring being in the
<CODE>printf(3)</CODE> format. It works for XY sets only.
<P>
<H3>Grace cannot find help files.          </H3>

<P>
<P>Set the <CODE>GRACE_HOME</CODE> environment variable to your Grace
directory. The help files are in
<CODE>$GRACE_HOME/doc</CODE>. See question 
<A HREF="#environment">Environment Variables</A> on how to
set environment variables.
<P>
<H3>How do I read in project files created by Xmgr or older versions of Grace?          </H3>

<P>
<P>From Xmgr-4.1.2 on, each project file starts with a string
giving the version number by which is was saved. These
files should cause no problems. You can modify older files
by inserting a version line at the beginning. For example,
<CODE>@VERSION 40102</CODE> stands for version 4.1.2.
<P>
<H3>I can't open anymore project files saved with an old version of Xmgr.          </H3>

<P>
<P>In Xmgr-4.1.0, support for the binary file format (the
former default one) was dropped. You must use the
<CODE>grconvert</CODE> utility supplied with the Grace
distribution in order to convert the files. This can
easily be achieved defining an input filter like in the
file <CODE>gracerc.sample</CODE> which comes with Grace.
<P>
<H3>How do I save disk space? Can I use compressed project files?          </H3>

<P>
<P>Yes. You can use your favorite compression program
(e.g. `gzip') as input or output filter so that files on
disk are automagically (de)compressed. Just add the lines
<P><CODE>DEFINE IFILTER "gzip -dc %s" PATTERN "*.gz"</CODE>
<P>and
<P><CODE>DEFINE OFILTER "gzip - &gt;  %s" PATTERN "*.gz"</CODE>
<P>into your <CODE>~/.gracerc</CODE>. Then, everytime you
specify a file name that ends with <CODE>.gz</CODE>, gzip is used
as input and output filters. You can use this mechanism to
do other things, e.g. reading and storing files into a
database.
<P>
<H3>Can I import bitmap graphics into Grace?          </H3>

<P>
<P>Well, not yet. The import of GIF files will be implemented
in a future release.
<P>
<H3><A NAME="export"></A> Can I export Grace graphs to GIF|JPEG|PostScript|PDF etc?           </H3>

<P>
<P>Postscript (for printing) and EPS (encapsulated
postscript; for the inclusion of graphics into e.g. LaTeX
documents) are implemented by default.
<P>In order to produce GIF (and GD) output you need the
GD-1.3 library of Thomas Boutell. It is available at 
<A HREF="http://www.boutell.com/gd/">the GD home page</A>. Read the file
<CODE>README.GIF</CODE> for details
<P>The support for the PNM (PBM/PGM/PPM) format (both ASCII
and rawbits) depends on GD, too.
<P>For PDF output, you need pdflib-0.6. The PDFlib
distribution is available at 
<A HREF="http://www.ifconnection.de/~tm/">the PDFlib home      page</A>. Read the
file <CODE>README.PDF</CODE> before trying to compile pdflib.
<P>You can get various other formats using netpbm and pstoedit.
<P>One can use <CODE>pstoedit</CODE> (available at several places,
e.g. 
<A HREF="ftp://ftp.x.org/contrib/applications/pstoedit/">ftp://ftp.x.org/contrib/applications/pstoedit/</A>) to
convert PS to a lot of other vector formats: MIF, CGM,
xfig's, tgif's, Windoze and OS/2 metafiles,... even Java
applets!
<P>Bitmaps: Using PNM device + the <CODE>netpbm</CODE> utils
(available at e.g. 
<A HREF="ftp://ftp.x.org/contrib/utilities/">ftp://ftp.x.org/contrib/utilities/</A> one can get
JPEG, TIFF, G3, BMP, PCX,...  (conversion can be done on
the fly with appropriate filter definitions).
<P>
<P>
<P>
<H2>5.7 Colors        </H2>

<P>
<P>
<H3>When I load a project saved with an earlier version of Xmgr (&lt;4.0), symbols of all (some) sets are drawn in black.          </H3>

<P>
<P>Xmgr-4 fixed the relict symbol-color bug. Previously
(since Xmgr-3) all symbols by default were assigned the
black color, but drawn using the line color. The fix thus
would break any project saved with a post-2 version of
Xmgr, unless symbol colors were explicitly defined. To
overcome this, the new `-symcolorbug' flag should be used
to load such a project. Once saved, it can be opened in
the usual way. Projects saved with a 2.* version of
x[m,v]gr (which didn't have the option to change the
symbol color independently) will be converted
automatically.
<P>
<H3>How do I set the background color of a plot, outside of the graph frame?          </H3>

<P>
<P>Add
<P><CODE>background color NUMBER</CODE>
<P>to your <CODE>~/.gracerc</CODE>, or use <CODE>grace -pexec
"background color NUMBER"</CODE>.
<P>This changes the background of the entire canvas, not only
the background of graphs.
<P>This can be done using the <CODE>"Options/Page"</CODE> popup
as well.
<P>
<P>
<H2><A NAME="s6">6. Basic Concepts</A>      </H2>

<P>
<P>
<H2>6.1 What is a set?        </H2>

<P>
<P>A set is a collection of points with x and y coordinates and
optional dx, dy (error bars) or other parameters, e.g. a
comment.
<P>
<H2>6.2 What is a graph?        </H2>

<P>
<P>A graph consists of a graph frame, axes, a title, a number
of sets and additional objects like strings, lines, boxes
and ellipses.
<P>
<H2>6.3 What is a project?        </H2>

<P>
<P>A project is a file which contains all information necessary
to restore a Graph created by Grace.
<P>
<H2><A NAME="parameter"></A> 6.4 What is a parameter file?         </H2>

<P>
<P>A parameter file contains informations about settings. Every
batch command of Grace is a valid line in a parameter
file. A parameter file is essentially a project file without
sets in a slightly different format (i.e. without leading
<CODE>@</CODE>s).
<P>
<H2>6.5 Which data formats does Grace recognize?        </H2>

<P>
<P>You can read in several kinds of files where data is
arranged in columns separated by spaces or tabs.
<P>Files which are not in simple x y format must have a line
<CODE>@TYPE xytype</CODE> before the actual data, where xytype
stands for the set type.  Refer to the User Guide (question
<A HREF="#manual">User Guide</A>) for details.
Alternatively, the file format can be set with a command
line switch.
<P>For example, if you have several sets with the same x values
and different y values, you can read them in using:
<P>
<PRE>
            @TYPE NXY
            # then data in the form:
            X Y1 Y2 Y3 Y4 ...
          
</PRE>
<P>
<H2>6.6 What is block data?        </H2>

<P>
<P>The option <CODE>Read Block Data</CODE> can be used to read in files
where the values are organized in columns (up to 30). You
can interactively select the type of set to be created and
which columns should be used.  Refer to the User Guide
(question 
<A HREF="#manual">User Guide</A>) for details.
<P>
<H2>6.7 How can I use pipes with Grace?        </H2>

<P>
<P>A named pipe is a pseudo file to which one application
writes data which another one reads from it.
<P>Applications like measurement programs can write data to a
pipe and make it thus available to Grace which reads from
the pipe. So Grace can serve as data displayer for otherwise
non-graphical programs.
<P>Refer to the User Guide (question 
<A HREF="#manual">User Guide</A>) or the tutorials (question 
<A HREF="#tutorial">Tutorials</A>) for further information.
<P>One example for using pipes is included in the <CODE>`make
tests'</CODE> slide show.
<P>
<H2><A NAME="gracebat"></A> 6.8 Where is gracebat? How does batch printing work?         </H2>

<P>
<P><CODE>gracebat</CODE> is simply a copy of Grace named <CODE>gracebat</CODE>
or a symbolic link from <CODE>gracebat</CODE> to Grace. In the case
of the symbolic link:
<P><CODE>ln -s xmgrace gracebat</CODE>
<P>done wherever the Grace binary is located will do the trick
(rehash or logout and login to make sure that <CODE>gracebat</CODE>
shows up in your path). Executing <CODE>gracebat</CODE> with no
command line parameters or data files will produce a
hardcopy on the default printer.
<P>
<H2>6.9 How can I input yy-mm-dd hh:mm:ss data?        </H2>

<P>
<P>Before reading the file, toss in a: 
<P>
<PRE>
            @format YYMMDD
            # then
            YY-MM-DD y

          
            @format YYMMDDHMS
            # then
            YY-MM-DD HH:MM:SS.S y

            @format MMDDYY
            # then
            MM-DD-YY y

            @format MMDDYYHMS
            # then
            MM-DD-YY HH:MM:SS.S y
          
</PRE>
<P>Although the format string says <CODE>"yy"</CODE>, the year is read
with (up to) four digits.
<P>The 
<A HREF="http://www.cl.cam.ac.uk/~mgk25/iso-time.html">ISO8601 date format</A> is
currently being implemented into Grace.
<P>
<H2>6.10 What is the Julian Date?        </H2>

<P>
<P>The Julian Date, not to be confused with the Julian
calendar, is a format to represent the time in a single
number. Julian Date 0 is a day way in the past, namely the
1st January 4713 before Christ (don't ask me why).  The
following days are numbered sequentially, each day starting
at noon.
<P>This numbering scheme is in wide use, especially in
astronomy, and is used for the internal representation of
dates in Grace.
<P>Look at the files <CODE>jul2greg.c</CODE> and <CODE>greg2jul.c</CODE> in
<CODE>$GRACE_HOME/auxiliary/</CODE>.
<P>
<P>
<H2><A NAME="s7">7. Mathematics</A>      </H2>

<P>
<P>
<H2>7.1 What algorithm is used for non-linear curve fitting?        </H2>

<P>
<P>It is the Levenberg-Marquardt algorithm, based on LMDIF from
MINPACK, with some modifications.
<P>
<P>
<H2><A NAME="s8">8. Miscellaneous</A>      </H2>

<P>
<P>
<H2>8.1 Is Grace Year 2000 compliant?        </H2>

<P>
<P>Yes. No warranty, of course. But as far as the treatment of
dates as data is concerned, years always have 4 digits. So
`98' is the year Trajan became Emperor of Rome, not 1998.
<P>Concerning an overflow of the system clock: being UNIX
software, Grace uses a variable type called <CODE>time_t</CODE>
(count of seconds since New Year's Day 1970) to represent
time internally. On a 32-bit OS, this counter will overflow in early
2038, or (depending on implementation) in the next century, and <B>not</B>
2000. By that time, for sure, everyone will be running a 64- or 
higher- bit operating system, which would overflow in so distant
future, that only cosmologists dare to think of it.
<P>See also 
<A HREF="http://plasma-gate.weizmann.ac.il/Grace/y2k.html">http://plasma-gate.weizmann.ac.il/Grace/y2k.html</A>.
<P>
<H2>8.2 Can Grace plot 3d graphs?        </H2>

<P>
<P>No. Not yet, I should say. Be patient. It may take quite a
while to implement it, though.
<P>
<H2>8.3 Which features are planned for the future?        </H2>

<P>
<P>Among the many features planned to be introduced in the
future are 3D plots, a spreadsheet-like frontend for set
operations, contour plots and XPM/GIF/JPEG image import and
manipulations.
<P>
<H2>8.4 Are there things that Grace can't do?        </H2>

<P>
<P>Probably. If you have an idea for improvement, send mail to
the mailing list (question 
<A HREF="#mailinglist">Mailing Lists</A>) or post it as a wish to the w3todo web
page (see question 
<A HREF="#w3todo">Known Bugs</A>).
<P>
<H2>8.5 What is Plotz?        </H2>

<P>
<P>Plotz is a neat web interface to Grace created by 
<A HREF="mailto:susanc@helix.nih.gov">Susan Chacko</A> and
can be found at 
<A HREF="http://helix.nih.gov/plotz.html">http://helix.nih.gov/plotz.html</A><P>
<H2>8.6 I use lots of graphs. How can I increase the maximum number of graphs?        </H2>

<P>
<P>Use the <CODE>-maxgraph</CODE> command line option.
<P>
<H2>8.7 I use lots of sets. How can I increase the maximum number of sets?        </H2>

<P>
<P>Use the <CODE>-maxsets</CODE> command line option.
<P>
<H2>8.8 What different kinds of sets can Grace plot?        </H2>

<P>
<P>The standard set is the regular (x,y) set, but there are
others including error bars or descriptive strings. See the
User Guide (question 
<A HREF="#manual">User Guide</A>)
for details.
<P>
<H2>8.9 How do I make a Grace image fit on a given paper size?        </H2>

<P>
<P>Select the correct paper size in the <CODE>Device setup</CODE>
popup.
<P>You can also try the command psresize from the 
<A HREF="http://www.dcs.ed.ac.uk/~ajcd/psutils/">psutils package</A> in order to
resize a postscript file generated by Grace.
<P>
<P>
<H2><A NAME="s9">9. Runtime Errors</A>      </H2>

<P>
<P>
<H2>9.1 I can't anymore print (correctly) to a PostScript printer. Prior to Xmgr-4, this worked fine.        </H2>

<P>
<P>The changes in the PostScript driver for fills using
patterns, introduced in Xmgr-4.00, require use of a Level 2
compliant PostScript printer. You can disable the PS Level 2
features in the printer setup.
<P>
<H2>9.2 When I start Grace I get the message ``can't find library libXXX.so'' or similar.        </H2>

<P>
<P>For certain tasks, Grace needs external libraries which are
neither provided by Grace nor the operating system. You will
need to install these libraries yourself. This applies to
Motif (see question 
<A HREF="#motif">Motif</A>), PDF and
GIF (see question 
<A HREF="#export">Output Devices</A>)
and probably other libraries.
<P>
<H2>9.3 I get errors like "X Error of failed request: BadValue (integer parameter out of range for operation)"        </H2>

<P>
<P>This means that Grace made an incorrect access to an X
library. This is most probably not Grace's fault. Probably a
not-yet-correctly-implemented LessTif function (see question
<A HREF="#motif">Motif</A>) caused this behaviour. If you
use LessTif, try to get the latest version (see question
<A HREF="#motif">Motif</A>). If this error persists,
report it as a bug (question 
<A HREF="#w3todo">Bug      Reports</A>).
<P>
<H2>9.4 I run Grace and get the following error messages: Warning: translation table syntax error: Unknown keysym name: osfPageLeft Warning: ... found while parsing '&lt;Key>osfPageLeft:SWLeftPage()'        </H2>

<P>
<P>Get the XKeySymDB file from the X11R6 distribution. Put it
somewhere where you can access it and set the <CODE>XKEYSYMDB</CODE>
environment variable to
<CODE>"/place/where/you/put/XKeysymDB"</CODE>.  See question
<A HREF="#environment">Environment Variables</A> on how
to set environment variables.
<P>
<H2>9.5 I run Grace on a Solaris 2.5.1 box, and when I try to open a file, I can't read the names of the files (files section of the dialog) because Grace writes ALL the path of each file in the list and there is no horizontal scroll. Can you help me?        </H2>

<P>
<P>This is a known bug of Motif implementation on Solaris
2.5.1 (both Sparc and Intel hardware). Ask your vendor for patch.
<P>
<P>
<H2><A NAME="commands"></A> <A NAME="s10">10. Command Line Interface </A>      </H2>

<P>
<P>
<H2>10.1 Which non-interactive batch commands does Grace know?        </H2>

<P>
<P>Lots. Almost every mouseclick in the GUI has an equivalent
in the batch language. See the User Guide (question 
<A HREF="#manual">User Guide</A>) for details.
<P>
<P>
<H2>10.2 How can I do feature extraction non-interactively?        </H2>

<P>
<P>Currently not at all. This will be implemented in a later
release.
<P>
<H2>10.3 How can I use non-linear fits in the batch mode?        </H2>

<P>
<P>Make a batch file with the following commands:
<P>
<PRE>
            fit formula "y = a0 + a1 * sin (a2 + x * pi / 180)"
            fit with 3 parameters
            fit prec 0.05
            a0 = 1
            a0 constraints off
            a1 = 1
            a1 constraints off
            a2 = 1
            a2 constraints off
            nonlfit (s0,100)
          
</PRE>
<P>This assumes that your original curve is in set s0 and that
you want to make 100 iterations.
<P><CODE>nonlfit()</CODE> doesn't produce any plots by itself. It only
<B>fits</B>. I.e., at this point, you can use the fitted
values <CODE>A0, A1, A2...</CODE>:
<P>Plot a set, e.g.:
<P>
<PRE>
            activate s3 100
            s3.x=s0.x
            s3.y= a0 + a1 * sin (a2 + x * pi / 180)
          
</PRE>
<P>Use for another fit as the initial values, or just ECHO them
(to <CODE>stdout</CODE>) with <CODE>ECHO A0</CODE>.
<P>
<P>
</BODY>
</HTML>
